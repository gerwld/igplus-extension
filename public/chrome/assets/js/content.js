//   - This file is part of IGPlus Extension
//  <https://github.com/gerwld/IGPlus-extension/blob/main/README.md>,
//   - Copyright (C) 2023-present IGPlus Extension
//   -
//   - IGPlus Extension is a software: you can redistribute it, but you are not allowed to modify it under the terms of the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0) License.
//   -
//   - IGPlus Extension is distributed in the hope that it will be useful,
//   - but WITHOUT ANY WARRANTY; without even the implied warranty of
//   - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
//   - Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0) License for more details.
//   -
//   - You should have received a copy of the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0) License
//   - along with IGPlus Extension.  If not, see <https://creativecommons.org/licenses/by-nc-nd/4.0/>.
(()=>{"use strict";{let n,t,o,s,a,i,r;const w=["noto_sans","pixelify","montserrat","poppins","merriweather","nunito","gabarito","playfair","roboto","roboto_condensed","caprasimo","inter"],x=chrome||browser;document.documentElement.style.opacity=0;let l;function c(e,s,n){fetch(x.runtime.getURL(e)).then(e=>e.text()).then(e=>{var t=document.getElementById(n),o=document.createElement("style");o.textContent=e,o.setAttribute("id",n),s&&!t?document.head.appendChild(o):!s&&t instanceof Node&&document.head.removeChild(t)}).catch(e=>{})}function d(e){clearInterval(t),c("/assets/graphs/disable_vanity.css",e,"disable_vanity"),e?t=setInterval(function(){e&&document.querySelectorAll("button._a9ze")?.forEach(e=>{var t=e.innerText;isNaN(t[0])&&isNaN(t[t.length-1])||e.classList.add("hide_ls2")})},300):clearInterval(t)}function p(e){clearInterval(o),c("/assets/graphs/disable_explore.css",e,"disable_explore"),e?o=setInterval(function(){e&&window.location.href.includes("/explore")&&(window.location?.assign?window.location.assign("/"):window.location.href="/",console.log("IGPlus: Redirect"),clearInterval(o))},300):clearInterval(o)}function u(e){clearInterval(s),c("/assets/graphs/disable_reels.css",e,"disable_reels"),e?s=setInterval(function(){e&&window.location.href.includes("/reels")&&(window.location?.assign?window.location.assign("/"):window.location.href="/",console.log("IGPlus: Redirect"),clearInterval(s))},300):clearInterval(s)}function g(e,t){clearInterval(a),c("/assets/graphs/ev_disable_stories.css",e,"ev_disable_stories"),c("/assets/graphs/mp_disable_stories.css",t,"mp_disable_stories"),e?a=setInterval(function(){e&&window.location.href.includes("/stories/")&&(window.location?.assign?window.location.assign("/"):window.location.href="/",console.log("IGPlus: Redirect"),clearInterval(a))},300):clearInterval(a)}function m(o){function e(){var e=document.querySelector(".x7a106z.x78zum5.xp1r0qw.xtqikln.x1nhvcw1")||document.querySelector(".x11fxgd9").querySelector("div"),t=e?.querySelectorAll("div")[1];(o&&"https://www.instagram.com/"===window.location.href||window.location.href.includes("://www.instagram.com/?"))&&e&&!window.location.href.includes("?variant=following")&&(t?.click(),console.log("IGPlus: Setting Feed to Subscriptions Mode."))}clearInterval(i),o?i=setInterval(e,1500):clearInterval(i);document.addEventListener("DOMContentLoaded",()=>{{var o=e,s=20,n=2e3;let t=0;!function e(){t<n&&(o(),t++,setTimeout(e,s))}()}},!1)}function f(e){clearInterval(r),c("/assets/graphs/block_videos.css",e,"block_videos"),e?r=setInterval(function(){e&&document.querySelectorAll("article").forEach(e=>{var t=e.querySelector("video");t&&(e.classList.add("video"),t.remove())})},300):clearInterval(r)}function h(){x.storage.local.get("formState",e=>{var t,o,s,e=e.formState.disabled?{a:!0}:e.formState;c("/assets/graphs/mp_disable_feed.css",e.mp_disable_feed,"mp_disable_feed"),c("/assets/graphs/block_images.css",e.block_images,"block_images"),c("/assets/graphs/counters_gray.css",e.counters_gray,"counters_gray"),c("/assets/graphs/counters_disable.css",e.counters_disable,"counters_disable"),c("/assets/graphs/grayscale.css",e.grayscale,"grayscale"),t="/assets/graphs/classic_mode.css",o=e.classic_mode,clearInterval(n),c(t,o,"classic_mode"),o?n=setInterval(function(){},200):clearInterval(n),d(e.disable_vanity),p(e.disable_explore),u(e.disable_reels),f(e.block_videos),g(e.ev_disable_stories,e.mp_disable_stories),m(e.mp_disable_recs),c("/assets/graphs/square_shaped.css",e.square_shaped,"square_shaped"),s=e.font,-1!==w.indexOf(s)&&c(`/assets/graphs/fonts/${s}.css`,!0,s),w.filter(e=>e!==s).forEach(e=>document.getElementById(e)?.remove())}),setTimeout(()=>{document.body.style.opacity="all 0s!important",document.documentElement.style.opacity=1},300)}var e;x.storage.local.onChanged.addListener((e,t)=>{e.formState&&e.formState.newValue&&JSON.stringify({...e.formState.newValue})!==l&&(l=JSON.stringify({...e.formState.newValue}),h())}),x.storage.local.onChanged.addListener((e,t)=>{e.formState&&e.formState.newValue&&e.formState.oldValue&&JSON.stringify({...e.formState.newValue})!==JSON.stringify({...e.formState.oldValue})&&h({...e.formState.oldValue})}),e=0,document.addEventListener("DOMContentLoaded",()=>{document.body.style.opacity=0,setTimeout(()=>document.body.style.opacity=1,e)}),document.addEventListener("DOMContentLoaded",h,!1)}})(),(()=>{"use strict";{const n=chrome||browser,a={chrome:"https://chromewebstore.google.com/detail/dbbopjndlaginbghfoibbndhlbpdpapd/reviews/write",firefox:"https://addons.mozilla.org/en-US/firefox/addon/igplus-extension/reviews/",edge:"https://microsoftedge.microsoft.com/addons/detail/igplus-remove-instagram/gcjgjfjabmgpainpahloaldflhfnppai",opera:"https://chromewebstore.google.com/detail/dbbopjndlaginbghfoibbndhlbpdpapd/reviews/write"};document.addEventListener("DOMContentLoaded",()=>{const s=(e=navigator.userAgent).includes("Edg")?"edge":e.includes("OPR")?"opera":!e.includes("Chrome")&&e.includes("Firefox")?"firefox":"chrome";var e;s&&a[s]&&n.storage.local.get("closeCount",function(t){if(t.closeCount||n.storage.local.set({closeCount:0}),!t.closeCount||t.closeCount<10){const o=document.createElement("div");var e=n.runtime.getURL("assets/img/logo.svg");o.setAttribute("id","ext_show"),o.innerHTML=`<div> <div class="groupl"> ${e?`<img src="${e}" alt="logo"/>`:""} <div> <h1>It would really help!</h1> </div></div> <p>If you enjoy using my extension, would you mind rate it on the webstore, then?</p> <a href="${a[s]}" target="_blank" id="rateLink">Rate it</a> <div class="cls"> <span id="closeNotification" style="cursor: pointer;">No, Thanks</span> </div> </div> <style id="43ggfdbt5rf"> #ext_show img, #ext_show p { user-select: none; pointer-events: none; } #ext_show h1 { width: 100%; display: block; text-align: left; color: #ffffff!important; font-weight: 600; font-size: 20px; } #ext_show .groupl { display: flex; align-items: center; justify-content: center; } #ext_show h1.first { margin-bottom: 5px; } #ext_show p { max-width: 290px; font-size: 14px; font-weight: 400; margin: 8px 0 16px; color: #868b90!important; line-height: 140%; text-align: center; } #ext_show a { display: block; border: 1px solid rgb(68, 86, 91, 0.5); border-radius: 10px; padding: 6px 10px; margin: 10px auto; max-width: 270px; background-color: rgba(255,255,255, 0.16)!important; color: white!important; text-align: center; } #ext_show a:hover { text-decoration: none; background-color: rgba(255,255,255, 0.1)!important; } #ext_show a:focus { text-decoration: none; } #ext_show > div { font-family: "Inter", inherit, serif; width: 296px; position: fixed; top: 10px; right: 10px; background-color: #161515!important; padding: 10px 8px 9px; border: 1px solid rgb(68, 86, 91, 0.5); z-index: 100; border-radius: 12px } #ext_show img { margin-right: 10px; margin-left: -10px; height: 33px; width: auto; max-width: 40px; box-shadow: 0 2px 2px 2px rgb(33, 33, 30, 0.15); } #ext_show .cls { display: flex; justify-content: center; } #closeNotification { display: inline-block; margin: 0 auto; padding-left: 4px; text-align: center; font-size: 11px; color: #72767a!important; } #closeNotification:hover { text-decoration: underline; } </style> `;setTimeout(()=>{document.body.appendChild(o);var e=document.getElementById("closeNotification"),e=(e&&e.addEventListener("click",function(){n.storage.local.set({closeCount:t.closeCount+1}),o.style.display="none"}),document.getElementById("rateLink"));e&&e.addEventListener("click",function(){n.storage.local.set({closeCount:11}),o.style.display="none"})},4e3)}})},!1)}})();