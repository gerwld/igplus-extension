//   - This file is part of IGPlus Extension
//  <https://github.com/gerwld/IGPlus-extension/blob/main/README.md>,
//   - Copyright (C) 2023-present IGPlus Extension
//   -
//   - IGPlus Extension is a software: you can redistribute it, but you are not allowed to modify it under the terms of the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0) License.
//   -
//   - IGPlus Extension is distributed in the hope that it will be useful,
//   - but WITHOUT ANY WARRANTY; without even the implied warranty of
//   - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
//   - Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0) License for more details.
//   -
//   - You should have received a copy of the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0) License
//   - along with IGPlus Extension.  If not, see <https://creativecommons.org/licenses/by-nc-nd/4.0/>.
(()=>{"use strict";{let o,s,t,a,n,r,l;const w=["noto_sans","pixelify","montserrat","poppins","merriweather","nunito","gabarito","playfair","roboto","roboto_condensed","caprasimo","inter"],h=chrome||browser;let i;function c(e,a,o){fetch(h.runtime.getURL(e)).then(e=>e.text()).then(e=>{var s=document.getElementById(o),t=document.createElement("style");t.textContent=e,t.setAttribute("id",o),a&&!s?document.head.appendChild(t):!a&&s instanceof Node&&document.head.removeChild(s)}).catch(e=>{})}function d(e){clearInterval(s),c("/assets/graphs/disable_vanity.css",e,"disable_vanity"),e?s=setInterval(function(){e&&document.querySelectorAll("button._a9ze")?.forEach(e=>{var s=e.innerText;isNaN(s[0])&&isNaN(s[s.length-1])||e.classList.add("hide_ls2")})},300):clearInterval(s)}function u(e){clearInterval(t),c("/assets/graphs/disable_explore.css",e,"disable_explore"),console.log(e,"explore"),e?t=setInterval(function(){e&&window.location.href.includes("/explore")&&(window.location?.assign?window.location.assign("/"):window.location.href="/",console.log("redirect"),clearInterval(t))},300):clearInterval(t)}function g(e){clearInterval(a),c("/assets/graphs/disable_reels.css",e,"disable_reels"),console.log(e,"reels"),e?a=setInterval(function(){e&&window.location.href.includes("/reels")&&(window.location?.assign?window.location.assign("/"):window.location.href="/",console.log("redirect"),clearInterval(a))},300):clearInterval(a)}function f(e,s){clearInterval(n),c("/assets/graphs/ev_disable_stories.css",e,"ev_disable_stories"),c("/assets/graphs/mp_disable_stories.css",s,"mp_disable_stories"),console.log(e,"stories"),e?n=setInterval(function(){e&&window.location.href.includes("/stories/")&&(window.location?.assign?window.location.assign("/"):window.location.href="/",console.log("redirect"),clearInterval(n))},300):clearInterval(n)}function m(e){clearInterval(r),e?r=setInterval(function(){e&&"https://www.instagram.com/"===window.location.href&&(window.location?.assign?window.location.assign("/?variant=following"):window.location.href="/?variant=following",clearInterval(r))},300):clearInterval(r)}function v(e){clearInterval(l),c("/assets/graphs/block_videos.css",e,"block_videos"),e?l=setInterval(function(){e&&document.querySelectorAll("article").forEach(e=>{var s=e.querySelector("video");s&&(e.classList.add("video"),s.remove())})},300):clearInterval(l)}function _(){h.storage.local.get("formState",e=>{var s,t,a,e=e.formState.disabled?{a:!0}:e.formState;c("/assets/graphs/block_images.css",e.block_images,"block_images"),c("/assets/graphs/counters_gray.css",e.counters_gray,"counters_gray"),c("/assets/graphs/counters_disable.css",e.counters_disable,"counters_disable"),c("/assets/graphs/grayscale.css",e.grayscale,"grayscale"),s="/assets/graphs/classic_mode.css",t=e.classic_mode,clearInterval(o),c(s,t,"classic_mode"),t?o=setInterval(function(){},200):clearInterval(o),d(e.disable_vanity),u(e.disable_explore),g(e.disable_reels),v(e.block_videos),f(e.ev_disable_stories,e.mp_disable_stories),m(e.mp_disable_recs),c("/assets/graphs/square_shaped.css",e.square_shaped,"square_shaped"),a=e.font,-1!==w.indexOf(a)&&c(`/assets/graphs/fonts/${a}.css`,!0,a),w.filter(e=>e!==a).forEach(e=>document.getElementById(e)?.remove())})}var e;h.storage.local.onChanged.addListener((e,s)=>{e.formState&&e.formState.newValue&&JSON.stringify({...e.formState.newValue})!==i&&(i=JSON.stringify({...e.formState.newValue}),_())}),h.storage.local.onChanged.addListener((e,s)=>{e.formState&&e.formState.newValue&&e.formState.oldValue&&JSON.stringify({...e.formState.newValue})!==JSON.stringify({...e.formState.oldValue})&&_({...e.formState.oldValue})}),e=0,document.addEventListener("DOMContentLoaded",()=>{document.body.style.opacity=0,setTimeout(()=>document.body.style.opacity=1,e)}),document.addEventListener("DOMContentLoaded",_,!1)}})();